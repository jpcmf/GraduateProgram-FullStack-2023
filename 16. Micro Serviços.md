# MicroServiços

## Aula 01 - Vinicius Soares

### SOA (Arquitetura orientada a serviços)

SOA é uma abordagem arquitetural corporativa que permite a criação de serviços de negócio interoperáveis que podem ser facilmente reutilizados e compartilhados entre aplicações e empresas  

#### O que SOA não é?
- Não é uma tecnologia
- Não é um produto
- Não é um WebService
- Não é um software
- Não é um framework
- Não é uma metodologia
- Não é uma solução de negócio

#### Visão Geral
- Uma arquitetura baseada em reusabilidade com serviços bem definidos e providos por componentes de TI;
- Seus componentes possuem baixo acoplamentos;
- Provê plataforma, tecnologia e linguagens independentes;

![image](https://github.com/jpcmf/GraduateProgram-FullStack-2023/assets/1216136/90264ed5-435c-47a9-a245-b0cef58a3d00)

#### Benefícios
- Desacoplamento:
  - Integrações inteligentes, flexibilidade, alinhamento com negócio;

- Reutilização de serviços:
  - Produtividade, manutenibilidade;
 
- Infraestrutura de plataforma:
  - Padronização corporativo (Log, Governança, etc.);
 
![image](https://github.com/jpcmf/GraduateProgram-FullStack-2023/assets/1216136/cf83275c-727a-401b-9f59-373e6591afd1)
 
### Monolito x Microservices

#### Monolito

Uma arquitetura monolítica típica de um sistema complexo pode ser representada pela figura abaixo, onde todas as funções do negócio estão **IMPLEMENTADAS EM UM UNICO PROCESSO**

#### Vantagens
- Fácil de desenvolver;
- Fácil manutenção;
- Apenas um deploy;
- Tráfego de rede baixo;

#### Problemas
- Aumento de complexidade e tamanho ao longo do tempo;
- Alta dependência de componentes de código;
- Escalabilidade do sistema é limitada;
- Falta de flexibilidade;
- Dificuldade para colocar alterações em produção;

#### O monolito tem vantagens e desvantagens

Uma das grandes desvantagens é que é muito difícil ESCALAR o sistema. Muito comum que cada cliente que você tiver, vai ter que replicar/duplicar o servidor, isso duplicando o custo.

**Quanto mais clientes tiver, mais servidor vai ser preciso, mais caro vai ficar.**

![image](https://github.com/jpcmf/GraduateProgram-FullStack-2023/assets/1216136/abd56df7-4c08-411d-b505-f2ef85da54c4)

#### Microservices

> “um serviço com um único propósito e que execute bem a sua tarefa dentro de um nível de granularidade e suporte as mudanças do sistemas que são consideradas importantes tanto em tempo de projeto quanto em tempo de execução. O foco principal é tentar construir software que pode se adaptar e isto só é possível de ser feito se as partes forem pequenas suficientes para se ajustar às diferenças nas mudanças de sua arquitetura.” –– RUSS MILE

![image](https://github.com/jpcmf/GraduateProgram-FullStack-2023/assets/1216136/4b275019-4986-4444-987b-acbbb7318192)

#### Vantagens
- Manutenção e evolução dos serviços mais estáveis;
- Serviços com baixo nível de acoplamento e interdependência; Escalabilidade do sistema;
- Redução de custos;
- Flexibilidade de tecnologia;
- Facilidade de colocar alterações em produção;
- Resiliencia;
- Aumento da produtividade;
- Implementação de entrega contínua;
- Monitoramento e automação de processos;
- Foco na entrega de valor ao cliente;

#### Riscos
- Aumento da complexidade da coordenação;
- Comunicação entre os microsserviços;
- Governança;

![image](https://github.com/jpcmf/GraduateProgram-FullStack-2023/assets/1216136/8468503a-58fe-4add-80dd-925b209a79cc)

#### Características
- Um conjunto de pequenos autônomos que trabalham juntos. "Newman, Sam";
- Software modularizado em pequenos serviços que se comunicam através de uma forma padronizada;
- Se comunicam através de uma API Restfull (HTTP / Json);

#### Características Técnicas
- Out-of-process:
  - Possibilidade de execução fora dos processos.
 
- Chamadas remotas:
  - Microsserviços são acessados por chamadas remotas.
 
- Independente de linguagem de programação:
  - São agnósticos a linguagem de programação, ou seja, você pode ter serviços escritos em node, java, python, etc.
 
- Baixo acoplamento:
  - Você é dono somente do seu domínio de negócio. Não necessitando de outro serviço para gerar novas versões e ou evoluir seu produto;
 
- Escalabilidade horizontal e vertical:
  - Você pode aumentar o número de réplicas (scale horizontal) e/ou aumentar a capacidade computacional de seu serviço (scale vertical);
 
#### Características Organizacionais
- Agilidade:
  - Trabalhando em conjuntos de negócio menores você garante agilidade no desenvolvimento de software.
 
- Equipe pequena e focada:
  - Utilizando o conceito de two-pizzas team você garante foco e produtividade do time de desenvolvimento.
 
- Entregas rápidas:
  - Por ser altamente testável, um micro serviço pode estar disponível rapidamente em produção com garantias de segurança e qualidade.
 
- Combinação de tecnologias:
  - Times podem ser multidisciplinares em tecnologias para desenvolver os microsserviços.
 
![image](https://github.com/jpcmf/GraduateProgram-FullStack-2023/assets/1216136/e8bb5f99-7f3c-453b-9fde-8f83b2bf707e)

![image](https://github.com/jpcmf/GraduateProgram-FullStack-2023/assets/1216136/014a7b5f-5980-49a1-ac36-c462de0103c3)

#### Práticas recomendadas
- Modele os serviços em torno de domínio da empresa.
- Descentralize tudo. Equipes individuais são responsáveis por projetar e criar serviços. Evite compartilhar esquemas de dados ou códigos.
- O armazenamento de dados deve ser privado para o serviço que é o proprietário dos dados. Use o melhor armazenamento para cada serviço e tipo de dados.
- Os serviços comunicam-se por meio de APIs bem projetadas. Evite o vazamento de detalhes da implementação. As APIs devem modelar o domínio, não a implementação interna do serviço.
- Evite acoplamento entre serviços. Causas de acoplamento incluem protocolos de comunicação rígidos e esquemas de banco de dados compartilhados.
- Descarregue preocupações abrangentes, como autenticação e terminação SSL, para o gateway.
- Mantenha o conhecimento de domínio fora do gateway.
- Os serviços devem ter um acoplamento flexível e alta coesão funcional.
- Isole falhas. Use estratégias de resiliência para impedir que falhas em um serviço distribuam-se em cascata.

#### Capabilities

![image](https://github.com/jpcmf/GraduateProgram-FullStack-2023/assets/1216136/4524999e-925b-4970-a4cc-931a19f96d22)

#### Falácias
- A rede é confiável;
- Latência é zero;
- A banda de internet é infinita;
- A rede é segura;
- A topologia de rede não muda; Existe somente UM administrador; Custo de transporte é zero;
- A rede é homogênea;

### IaaS (Infraestrutura como Serviço)

#### Características
- Infrastructure as a Service significa entregar computação de infraestrutura sob demanda.
- É um dos 3 modelos de serviços da computação em nuvem.
- IaaS provê:
  - Servidores: Computação e máquinas;
  - Storage;
  - Rede;
  - Sistemas Operacionais;
- O usuário ao invés de adquirir softwares ou máquinas, espaço em data centers ou equipamentos de rede ele praticamente aluga espaços para estes recursos em uma infraestrutura externa.
- IaaS pode ser obtida em:
  - Nuvem pública:
    - É considerada nuvem pública uma infraestrutura que consiste de recursos compartilhados, liberados sob demanda baseado na internet.
  - Nuvem privada:
    - Incorpora a maioria das features de uma nuvem pública como virtualização porém fica dentro de uma rede privada.
  - Nuvem Híbrida:
    - Mistura de uma nuvem privada com uma nuvem pública, geralmente conectadas através de um túnel VPN.   
- Recursos são distribuídos como serviço;
- Possibilita escalabilidade dinâmica;
- Custos variados;

#### Quando utilizar
- Quando a demanda for volátil, ou seja, você tem a possibilidade diminuir e aumentar sua capacidade computacional de acordo com a necessidade.
- Empresas sem capacidade de investimento em hardware.
- Empresas com crescimento rápido e necessidade de escala rápida de sua infraestrutura.
- Por estratégias de negócios rápidas.

#### Quando não utilizar
- Quando a legislação não permitir guardar os dados fora da infraestrutura interna da empresa, ou a terceirização do armazenamento não é permitida.
- Não é aconselhável quando os níveis de desempenho necessários para aplicação tenham limite de acesso ao provedor da cloud.

### PaaS (Plataforma como Serviço)

#### Características
- PaaS pode ser considerada IaaS adicionada uma camada middleware e/ou componentes prontos.
- Uma camada de abstração entre seu aplicativo em nuvem e seu provedor de IaaS.
- É um ambiente de execução escalável e com alta disponibilidade para aplicações customizadas.
- PaaS, é uma categoria de computação em nuvem que fornece uma plataforma e um ambiente para permitir que os desenvolvedores criem aplicativos e serviços pela Internet.
- Fornece fundamentalmente escala elástica do seu aplicativo.

#### Benefícios
- Infraestrutura na nuvem, escalável e com alta disponibilidade nativa.
- Alta produtividade no desenvolvimento e manutenção de aplicações sob demanda.
- Resumindo: baixo custo (TCO), confiabilidade e diminuição do tempo de entrega.

#### Vantagens
- Desenvolvimento 100% focado no negócio:
  - Por direcionar a arquitetura lógica e administrar a arquitetura física de forma bem transparente, é possível desenvolver uma aplicação que vá demandar uma requisição por minuto ou 10 mil requisições por segundo da mesma forma, com o mesmo nível de preocupação do ponto de vista técnico: apenas a lógica de negócio.
 
- Produtividade
  - O simples fato de não se gerenciar balanceamento de carga, replicação,cluster, instalando e configurando middlewares(servidores de aplicação, banco de dados, etc.) já é um grande ganho. Além disso, os grandes fornecedores estão criando camadas de componentes prontos para uso, APIs e aceleradores de desenvolvimento nessas plataformas.
 
#### Decisões
- A plataforma por trás do PaaS foi criada justamente para trazer benefícios e acelerar o desenvolvimento. Existe esforço dos fornecedores para deixar essa camada o mais padrão possível, mas ainda existe uma boa parte que é proprietária.
- Ao adotar PaaS, é natural que se adote também essa camada proprietária, caso contrário, poderia se trabalhar direto na infraestrutura.
- É esta camada que permite dar um salto de produtividade e lidar com escalabilidade e disponibilidade de forma transparente.
- A decisão a ser tomada é: menos custo e mais entregas contra o efeito “lock-in” das aplicações construídas nessa abordagem.!

#### Restrições
- Plataformas são muito eficientes para construção de novas aplicações.
- A migração de aplicações já existentes para elas é um processo custoso ou mesmo inviável (dependendo da tecnologia atual e da plataforma almejada).

## Aula 02 - Vinicius Soares

## Aula 03 - Luis Fernando Planella Gonzalez 
