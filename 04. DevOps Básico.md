# DevOps BÃ¡sico

## Aula 01 - FabrÃ­cio Veronez

### DevOps:
  - Interesses em comum, foco no produto;
  - ComunicacÌ§aÌƒo aÌgil e simplificada;
  - O objetivo eÌ sempre resolver o problema e aprender com ele;
  - 3 maneiras: Fluxo, Feedback, Aprendizado ContÃ­nuo e ExperimentaÃ§Ã£o.

#### Fluxo:
  - AnaÌlise e otimizacÌ§aÌƒo dos processos;
  - InclusaÌƒo de testes;
  - IntegracÌ§aÌƒo contiÌnua e deploy contiÌnuo;
  - Entregas de baixo risco.

#### Feedback:
  - Implementar e coletar meÌtricas;
  - Observabilidade;
  - Teste A/B;
  - Feedback dos resultados para replanejamento;.
  
#### Aprendizado ContÃ­nuo e ExperimentaÃ§Ã£o:
  - Aprender com os erros;
  - ExperimentacÌ§aÌƒo controlada;
  - Disseminar o conhecimento e padronizar o que daÌ certo.

### Twelve Factor Apps: _(Heroku)_
  - Utilizar formatos declarativos para configuracÌ§aÌƒo de ambientes para facilitar automacÌ§aÌƒo;
  - Garantir a maior portabilidade possiÌvel entre ambientes;
  - Ter compatibilidade com plataformas de nuvem, sem depender de servidores e administracÌ§aÌƒo de sistemas;
  - Minimizar o impacto de migracÌ§aÌƒo entre ambientes de desenvolvimento e producÌ§aÌƒo;
  - Ser escalaÌvel sem alteracÌ§oÌƒes significativas;

#### 01. Base de CoÌdigo (Codebase)
  - Cada aplicacÌ§aÌƒo possui uma base de coÌdigo uÌnica e centralizada. Todos os deploys saÌƒo reflexo da base de coÌdigo.

#### 02. DependeÌ‚ncias (Dependencies)
  - Declare as dependeÌ‚ncias das aplicacÌ§oÌƒes de forma expliÌcita com gerenciadores de pacote.

#### 03. ConfiguracÌ§oÌƒes (Config)
  - Armazene as configuracÌ§oÌƒes no ambiente.

#### 04. Backing services (ServicÌ§os de Apoio)
  - Trate servicÌ§os como recursos.

#### 05. Construa, lance, execute (Build, release, run)
  - Separe os estaÌgios de build e release dos projetos.

#### 06. Processos (Processes)
  - Execute a aplicacÌ§aÌƒo como um ou mais processos que naÌƒo armazenam estado.

#### 07. ViÌnculo de Portas (Port binding)
  - Utilizar port binding para expor servicÌ§os.

#### 08. ConcorreÌ‚ncia (Concurrency)
  - Escale atraveÌs do processo modelo.

#### 09. Descartabilidade (Disposability)
  - Processos com raÌpida inicializacÌ§aÌƒo e encerramento gracioso.

#### 10. Paridade entre desenvolvimento e producÌ§aÌƒo (Dev/prod parity)
  - Mantenha o desenvolvimento, homologacÌ§aÌƒo e producÌ§aÌƒo o mais similares possiÌvel.

#### 11. Logs
  - Trate logs como fluxos de eventos

#### 12. Processos administrativos (Admin processes)
  - Rode tarefas de administracÌ§aÌƒo/gestaÌƒo em processos pontuais.

### Versionamento de CÃ³digo:

#### Git:
  - Criar repositÃ³rio, branches, commits, merge;
  - Fork
    - Uma bifurcaÃ§Ã£o Ã© uma cÃ³pia de um repositÃ³rio. Bifurcar um repositÃ³rio permite que vocÃª faÃ§a experiÃªncias Ã  vontade sem comprometer o projeto original. Mais comumente, as bifurcaÃ§Ãµes sÃ£o usadas para propor mudanÃ§as no projeto de outra pessoa ao qual vocÃª nÃ£o tem acesso de gravaÃ§Ã£o, ou para usar o projeto de outra pessoa como ponto de partida para sua prÃ³pia ideia.

#### SSH:
  - Trata-se de uma forma eficiente de credenciamento ou autenticaÃ§Ã£o entre um determinado ambiente e o usuÃ¡rio que o utiliza. O SSH fornece um canal seguro sobre uma rede insegura em uma arquitetura cliente-servidor, e Ã© muito usado no login remoto de utilizadores a sistemas de computadores;
    - Chave privada (como se fosse um ğŸ”‘);
    - Chave pÃºblica (como se fosse uma ğŸ”’);
    - Como gerar e acessar chave pÃºblica:
    ```
     $ ssh-keygen -t rsa -b 2048
     $ cd ~/.ssh
     $ ls
     $ cat id_rsa.pub
    ```
 
 #### Containers:
  - Isolamento entre processos;
  - Controle sobre os processos;
  - IdempoteÌ‚ncia _(sempre com o mesmo comportamento)_;
  - Portabilidade;
  - Confiabilidade de comportamento.
    
## Aula 02 - FabrÃ­cio Veronez

### Docker:
  - A imagem Ã© o elemento base para criar um container. Todo container tem como origem uma imagem. A imagem Ã© o projeto de uma execuÃ§Ã£o do container;
  - Dockerfile _(imagem)_: receita de bolo para criar um container;
  - OpÃ§Ãµes de uso no Dockerfile:
    - `FROM` => Inicializa o build de uma imagem a partir de uma imagem base
    - `RUN` => Executa um comando
    - `LABEL` => Adiciona metadados a imagem
    - `CMD` => Define o comando e/ou os paraÌ‚metros padraÌƒo
    - `EXPOSE` => Define que o container precisa expor a porta em questaÌƒo
    - `ARG` => Define um argumento pra ser usado no processo de construcÌ§aÌƒo
    - `ENV` => Define variaÌveis de ambiente
    - `ADD` => Copia arquivos ou diretoÌrios ou arquivos remotos e adiciona ao sistema de arquivos da imagem
    - `COPY` => Copia arquivos ou diretoÌrios e adiciona ao sistema de arquivos da imagem
    - `ENTRYPOINT` => Ajuda voceÌ‚ a configurar um conteÌ‚iner que pode ser executado como um executaÌvel
    - `VOLUME` => Define volumes que devem ser definidos
    - `WORKDIR` => Define o seu diretoÌrio corrente

### Pipeline:
  - Um conjunto de etapas realizadas sequencialmente.

#### IntegraÃ§Ã£o contÃ­nua _(CI)_:
  - `CodificaÃ§Ã£o` > `Commit` > `Build` > `Teste` > `GeraÃ§Ã£o de pacote de entrega`

#### Deploy contÃ­nuo _(CD)_:
- `Release` > `Teste` > `Aceite` > `Deploy em produÃ§Ã£o`

#### Exemplo CI:
- https://github.com/jpcmf/temperature-conversion/edit/main/.github/workflows/main.yml
- https://hub.docker.com/repository/docker/codajoao/temperature-conversion/general

## Aula 03 - Marco AurÃ©lio Souza Mangan

### DevOps:
- Definir, controlar e aprimorar os processos do ciclo de vida do software;
- Construir, testar, empacotar e implantar software e sistemas de forma segura e confiaÌvel;
- Ampliar a comunicacÌ§aÌƒo e integracÌ§aÌƒo de desenvolvedores e demais envolvidos.

#### PreocupaÃ§Ãµes:
- Construir _(to build)_: O processo de gerar um sistema executaÌvel e testaÌvel a partir de coÌdigo-fonte;
- Empacotar _(to package)_: combinar componentes relacionados em um uÌnico item implantaÌvel;
- Implantar _(to deploy)_: iniciar a etapa do ciclo de vida do software em que a operacÌ§aÌƒo acontece.

#### MudanÃ§as:
- Left-shift ou shift-left: priorizar participacÌ§aÌƒo dos envolvidos ao aplicar atividades de garantia de qualidade, segurancÌ§a, privacidade, desempenho, verificacÌ§aÌƒo e validacÌ§aÌƒo mais cedo no ciclo de vida;
- A automacÌ§aÌƒo produz registro de auditoria ao longo das etapas do ciclo de vida, o que inclui validacÌ§aÌƒo e validacÌ§aÌƒo do software;
- MudancÌ§as culturais: implantacÌ§oÌƒes pequenas, simples e automatizadas que cabem no dia-a-dia da equipe;
- Objetivos diversos: velocidade, inovacÌ§aÌƒo, escala...
- [_XP Practices_](https://ronjeffries.com/xprog/what-is-extreme-programming/)

#### CompetÃªncia tÃ©cnicas:
- Utilizar ferramentas de gereÌ‚ncia de configuracÌ§aÌƒo;
- Administrar sistemas operacionais;
- Adotar integracÌ§aÌƒo contiÌnua;
- Implantar registros de auditoria (logs);
- Aprimorar o monitoramento de execucÌ§aÌƒo;
- Facilitar a configuracÌ§aÌƒo de senhas, credenciais e conexoÌƒes;
- Automatizar tarefas: construcÌ§aÌƒo, teste, revisaÌƒo, instalacÌ§aÌƒo;
- Aprimorar a segurancÌ§a da aplicacÌ§aÌƒo. DevSecOps.

#### Resumo
- DevOps eÌ um meÌtodo ou conjunto de praÌticas;
- As competeÌ‚ncias teÌcnicas baÌsicas dependem do uso de ferramentas;
- As ferramentas evoluem e existem muitas alternativas;
- Procure perceber quais as possibilidades das ferramentas do restante da apresentacÌ§aÌƒo;
- Priorize e adapte essas possibilidades aos seus projetos e localize nas suas ferramentas como realizar essas possibilidades.

#### GerÃªncia de configuraÃ§Ã£o
- GereÌ‚ncia de versoÌƒes e mudancÌ§as:
  - https://git-scm.com
  - https://learngitbranching.js.org
- DependeÌ‚ncias e automacÌ§aÌƒo de construcÌ§aÌƒo:
  - https://mvnrepository.com/repos/central
  - https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html
- GereÌ‚ncia de pacotes:
  - https://help.ubuntu.com/community/AptGet/Howto

#### Kent Beck sobre 10 PraÌticas em IntegraÃ§Ã£o contÃ­nua _(CI)_:
1. Mantenha um repositoÌrio unificado;
2. Automatize a construcÌ§aÌƒo;
3. Automatize o teste da construcÌ§aÌƒo;
4. Incentive todos a contribuir no produto, todos os dias;
5. Cada contribuicÌ§aÌƒo executa testes de integracÌ§aÌƒo;
6. Mantenha o build raÌpido;
7. Teste em um ambiente igual ao de producÌ§aÌƒo;
8. Facilite a todos a obter um executaÌvel;
9. Verifique que todos possam saber o que estaÌ acontecendo;
10. Por fim, automatize a implantacÌ§aÌƒo.
